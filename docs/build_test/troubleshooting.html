<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Troubleshooting and FAQ · Trixi.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://trixi-framework.github.io/Trixi.jl/stable/troubleshooting.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script><link href="assets/favicon.ico" rel="icon" type="image/x-icon"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Trixi.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li><span class="tocitem">Getting started</span><ul><li><a class="tocitem" href="overview.html">Overview</a></li><li><a class="tocitem" href="visualization.html">Visualization</a></li></ul></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="tutorials/introduction.html">Introduction</a></li><li><a class="tocitem" href="tutorials/getting_started_with_Trixi.html">1 Getting started with Trixi</a></li><li><a class="tocitem" href="tutorials/scalar_linear_advection_1d.html">2 Introduction to DG methods</a></li><li><a class="tocitem" href="tutorials/DGSEM_FluxDiff.html">3 DGSEM with flux differencing</a></li><li><a class="tocitem" href="tutorials/shock_capturing.html">4 Shock capturing with flux differencing and stage limiter</a></li><li><a class="tocitem" href="tutorials/non_periodic_boundaries.html">5 Non-periodic boundaries</a></li><li><a class="tocitem" href="tutorials/DGMulti_1.html">6 DG schemes via <code>DGMulti</code> solver</a></li><li><a class="tocitem" href="tutorials/DGMulti_2.html">7 Other SBP schemes (FD, CGSEM) via <code>DGMulti</code> solver</a></li><li><a class="tocitem" href="tutorials/upwind_fdsbp.html">8 Upwind FD SBP schemes</a></li><li><a class="tocitem" href="tutorials/adding_new_scalar_equations.html">9 Adding a new scalar conservation law</a></li><li><a class="tocitem" href="tutorials/adding_nonconservative_equation.html">10 Adding a non-conservative equation</a></li><li><a class="tocitem" href="tutorials/parabolic_terms.html">11 Parabolic terms</a></li><li><a class="tocitem" href="tutorials/adding_new_parabolic_terms.html">12 Adding new parabolic terms</a></li><li><a class="tocitem" href="tutorials/adaptive_mesh_refinement.html">13 Adaptive mesh refinement</a></li><li><a class="tocitem" href="tutorials/structured_mesh_mapping.html">14 Structured mesh with curvilinear mapping</a></li><li><a class="tocitem" href="tutorials/hohqmesh_tutorial.html">15 Unstructured meshes with HOHQMesh.jl</a></li><li><a class="tocitem" href="tutorials/time_stepping.html">16 Explicit time stepping</a></li><li><a class="tocitem" href="tutorials/differentiable_programming.html">17 Differentiable programming</a></li></ul></li><li><span class="tocitem">Basic building blocks</span><ul><li><input class="collapse-toggle" id="menuitem-4-1" type="checkbox"/><label class="tocitem" for="menuitem-4-1"><span class="docs-label">Meshes</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="meshes/tree_mesh.html">Tree mesh</a></li><li><a class="tocitem" href="meshes/structured_mesh.html">Structured mesh</a></li><li><a class="tocitem" href="meshes/unstructured_quad_mesh.html">Unstructured mesh</a></li><li><a class="tocitem" href="meshes/p4est_mesh.html">P4est-based mesh</a></li><li><a class="tocitem" href="meshes/dgmulti_mesh.html">DGMulti mesh</a></li></ul></li><li><a class="tocitem" href="time_integration.html">Time integration</a></li><li><a class="tocitem" href="callbacks.html">Callbacks</a></li></ul></li><li><span class="tocitem">Advanced topics &amp; developers</span><ul><li><a class="tocitem" href="conventions.html">Conventions</a></li><li><a class="tocitem" href="development.html">Development</a></li><li><a class="tocitem" href="github-git.html">GitHub &amp; Git</a></li><li><a class="tocitem" href="styleguide.html">Style guide</a></li><li><a class="tocitem" href="testing.html">Testing</a></li><li><a class="tocitem" href="performance.html">Performance</a></li><li><a class="tocitem" href="parallelization.html">Parallelization</a></li></ul></li><li class="is-active"><a class="tocitem" href="troubleshooting.html">Troubleshooting and FAQ</a><ul class="internal"><li><a class="tocitem" href="#old-release"><span>Installing Trixi as a package only provides an older release</span></a></li><li><a class="tocitem" href="#font-issues"><span>There are many questions marks and weird symbols in the output of Trixi</span></a></li><li><a class="tocitem" href="#There-are-no-timing-results-of-the-initial-mesh-creation"><span>There are no timing results of the initial mesh creation</span></a></li><li><a class="tocitem" href="#MPI-ranks-are-assigned-zero-cells-in-[P4estMesh](@ref)-even-though-there-are-enough-cells"><span>MPI ranks are assigned zero cells in <code>P4estMesh</code> even though there are enough cells</span></a></li></ul></li><li><span class="tocitem">Reference</span><ul><li><a class="tocitem" href="reference-trixi.html">Trixi.jl</a></li><li><a class="tocitem" href="reference-trixi2vtk.html">Trixi2Vtk.jl</a></li></ul></li><li><a class="tocitem" href="authors.html">Authors</a></li><li><a class="tocitem" href="contributing.html">Contributing</a></li><li><a class="tocitem" href="code_of_conduct.html">Code of Conduct</a></li><li><a class="tocitem" href="license.html">License</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="troubleshooting.html">Troubleshooting and FAQ</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="troubleshooting.html">Troubleshooting and FAQ</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com//blob/master/docs/src/troubleshooting.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Troubleshooting-and-FAQ"><a class="docs-heading-anchor" href="#Troubleshooting-and-FAQ">Troubleshooting and FAQ</a><a id="Troubleshooting-and-FAQ-1"></a><a class="docs-heading-anchor-permalink" href="#Troubleshooting-and-FAQ" title="Permalink"></a></h1><p>In general, Trixi.jl works best with the newest Julia release and up-to-date dependencies. If something does not work as expected, try updating your installed Julia packages via the package manager, e.g., by running</p><pre><code class="language-julia hljs">julia&gt; import Pkg; Pkg.update()</code></pre><p>If you do  not use the latest stable release of Julia from the  <a href="https://julialang.org/downloads/#current_stable_release">official website</a>, consider updating your Julia installation.</p><h2 id="old-release"><a class="docs-heading-anchor" href="#old-release">Installing Trixi as a package only provides an older release</a><a id="old-release-1"></a><a class="docs-heading-anchor-permalink" href="#old-release" title="Permalink"></a></h2><p>Trixi requires fairly recent versions of several of its dependencies, which sometimes causes issues when other installed packages have conflicting version requirements.  In this case, Julia&#39;s package manager <code>Pkg</code> will try to handle this gracefully by going back in history until it finds a Trixi release whose version requirements can be met, resulting in an older - and usually outdated - version of Trixi being installed.</p><p>The following example illustrates this issue:</p><ul><li>The current Trixi release <code>v0.3.6</code> requires package <code>Foo</code> with a <em>minimum</em> version of <code>v0.2</code>.</li><li>An older Trixi release <code>v0.2.1</code> requires package <code>Foo</code> only with a <em>minimum</em> version of <code>v0.1</code>.</li><li>A user has already installed package <code>Bar</code>, which itself requires <code>Foo</code> with a <em>maximum</em> version of <code>v0.1</code>.</li></ul><p>In this case, installing Trixi via <code>Pkg</code> will result in version <code>v0.2.1</code> to be installed instead of the current release <code>v0.3.6</code>. That is, a specific release of Trixi may not be installable if it has a dependency with a higher minimum version that at the same time is restricted to a lower maximum version by another installed package.</p><p>You can check whether an outdated version of Trixi is installed by executing</p><pre><code class="language-julia hljs">julia&gt; import Pkg; Pkg.update(&quot;Trixi&quot;); Pkg.status(&quot;Trixi&quot;)</code></pre><p>in the REPL and comparing the reported Trixi version with the version of the <a href="https://github.com/trixi-framework/Trixi.jl/releases/latest">latest release</a>. If the versions differ, you can confirm that it is due to a version conflict by forcing <code>Pkg</code> to install the latest Trixi release, where <code>version</code> is the current release:</p><pre><code class="language-julia hljs">julia&gt; Pkg.add(name=&quot;Trixi&quot;, version=&quot;0.3.6&quot;)</code></pre><p>In case of a conflict, the command above will produce an error that informs you about the offending packages, similar to the following:</p><pre><code class="nohighlight hljs">   Updating registry at `~/.julia/registries/General`
  Resolving package versions...
ERROR: Unsatisfiable requirements detected for package DataStructures [864edb3b]:
 DataStructures [864edb3b] log:
 ├─possible versions are: [0.9.0, 0.10.0, 0.11.0-0.11.1, 0.12.0, 0.13.0, 0.14.0-0.14.1, 0.15.0, 0.16.1, 0.17.0-0.17.20, 0.18.0-0.18.8] or uninstalled
 ├─restricted by compatibility requirements with DiffEqCallbacks [459566f4] to versions: 0.18.0-0.18.8
 │ └─DiffEqCallbacks [459566f4] log:
 │   ├─possible versions are: [2.0.0, 2.1.0, 2.2.0, 2.3.0, 2.4.0, 2.5.0-2.5.2, 2.6.0, 2.7.0, 2.8.0, 2.9.0, 2.10.0, 2.11.0, 2.12.0-2.12.1, 2.13.0-2.13.5, 2.14.0-2.14.1, 2.15.0] or uninstalled
 │   ├─restricted by compatibility requirements with Trixi [a7f1ee26] to versions: [2.14.0-2.14.1, 2.15.0]
 │   │ └─Trixi [a7f1ee26] log:
 │   │   ├─possible versions are: [0.1.0-0.1.2, 0.2.0-0.2.6, 0.3.0-0.3.6] or uninstalled
 │   │   └─restricted to versions 0.3.6 by an explicit requirement, leaving only versions 0.3.6
 │   └─restricted by compatibility requirements with StaticArrays [90137ffa] to versions: 2.15.0 or uninstalled, leaving only versions: 2.15.0
 │     └─StaticArrays [90137ffa] log:
 │       ├─possible versions are: [0.8.0-0.8.3, 0.9.0-0.9.2, 0.10.0, 0.10.2-0.10.3, 0.11.0-0.11.1, 0.12.0-0.12.5, 1.0.0-1.0.1] or uninstalled
 │       └─restricted by compatibility requirements with Trixi [a7f1ee26] to versions: 1.0.0-1.0.1
 │         └─Trixi [a7f1ee26] log: see above
 └─restricted by compatibility requirements with JLD2 [033835bb] to versions: [0.9.0, 0.10.0, 0.11.0-0.11.1, 0.12.0, 0.13.0, 0.14.0-0.14.1, 0.15.0, 0.16.1, 0.17.0-0.17.20] — no versions left
   └─JLD2 [033835bb] log:
     ├─possible versions are: [0.1.0-0.1.14, 0.2.0-0.2.4, 0.3.0-0.3.1] or uninstalled
     └─restricted by compatibility requirements with BinaryBuilder [12aac903] to versions: 0.1.0-0.1.14
       └─BinaryBuilder [12aac903] log:
         ├─possible versions are: [0.1.0-0.1.2, 0.1.4, 0.2.0-0.2.6] or uninstalled
         └─restricted to versions * by an explicit requirement, leaving only versions [0.1.0-0.1.2, 0.1.4, 0.2.0-0.2.6]</code></pre><p>From the error message, we can see that ultimately <code>BinaryBuilder</code> is the problem here: It restricts the package <code>DataStructures</code> to version <code>v0.17</code> (via its dependency <code>JLD2</code>), while Trixi requires at least <code>v0.18</code> (via its dependency <code>DiffEqCallbacks</code>). Following the <a href="https://julialang.github.io/Pkg.jl/v1/managing-packages/#conflicts">official <code>Pkg</code> documentation</a>, there are a number of things you can try to fix such errors:</p><ul><li>Try updating all packages with <code>julia -e &#39;using Pkg; Pkg.update()&#39;</code>. A newer version of the problematic package may exist that has updated version requirements.</li><li>Remove the offending package. Running<pre><code class="language-julia hljs">julia&gt; import Pkg; Pkg.rm(&quot;BinaryBuilder&quot;); Pkg.update(); Pkg.status()</code></pre>in the REPL will remove <code>BinaryBuilder</code> and (hopefully) update Trixi to the latest version.</li><li>Report the versioning issue to <a href="https://github.com/trixi-framework/Trixi.jl/issues/new">us</a> and/or the development repository of the conflicting package.  Maybe it is possible to lift the version restrictions such that both packages can live side by side.</li><li>Instead of installing Trixi and conflicting packages in the same (default) environment, consider creating new environments/projects and install only packages required for the specific tasks, as explained in the <a href="https://julialang.github.io/Pkg.jl/v1/environments/">official <code>Pkg</code> documentation</a>. For example, if you use Trixi for a research project (Bachelor/Master thesis or a paper), you should create a new Julia project/environment for that research and add Trixi as a dependency. If you track all your code and the <code>Project.toml</code>, <code>Manifest.toml</code> files (generated by <code>Pkg</code>) in a version control system such as <code>git</code>, you can make your research easily reproducible (if you also record the version of Julia you are using and leave some comments for others who do not know what you are trying to do, including your future self 😉).</li></ul><h2 id="font-issues"><a class="docs-heading-anchor" href="#font-issues">There are many questions marks and weird symbols in the output of Trixi</a><a id="font-issues-1"></a><a class="docs-heading-anchor-permalink" href="#font-issues" title="Permalink"></a></h2><p>This probably means that the default font used by your operating system does not support enough Unicode symbols. Try installing a modern font with decent unicode support, e.g. <a href="https://github.com/cormullion/juliamono">JuliaMono</a>. Detailed <a href="https://cormullion.github.io/pages/2020-07-26-JuliaMono/#installation">installation instructions</a> are available there.</p><p>This problems affects users of Mac OS particularly often. At the time of writing, installing JuliaMono is as simple as</p><pre><code class="nohighlight hljs">$ brew tap homebrew/cask-fonts
$ brew install --cask font-juliamono</code></pre><h2 id="There-are-no-timing-results-of-the-initial-mesh-creation"><a class="docs-heading-anchor" href="#There-are-no-timing-results-of-the-initial-mesh-creation">There are no timing results of the initial mesh creation</a><a id="There-are-no-timing-results-of-the-initial-mesh-creation-1"></a><a class="docs-heading-anchor-permalink" href="#There-are-no-timing-results-of-the-initial-mesh-creation" title="Permalink"></a></h2><p>By default, the <a href="reference-trixi.html#Trixi.SummaryCallback-Tuple{}"><code>SummaryCallback</code></a> resets the timer used internally by Trixi when it is initialized (when <code>solve</code> is called). If this step needs to be timed, e.g. to debug performance problems, explicit timings can be used as follows.</p><pre><code class="language-julia hljs">using Trixi

begin
  Trixi.reset_timer!(Trixi.timer())

  equations = LinearScalarAdvectionEquation2D(0.2, -0.7)
  mesh = TreeMesh((-1.0, -1.0), (1.0, 1.0), n_cells_max=10^5, initial_refinement_level=5)
  solver = DGSEM(3)
  semi = SemidiscretizationHyperbolic(mesh, equations, initial_condition_convergence_test, solver)

  Trixi.print_timer(Trixi.timer())
end</code></pre><h2 id="MPI-ranks-are-assigned-zero-cells-in-[P4estMesh](@ref)-even-though-there-are-enough-cells"><a class="docs-heading-anchor" href="#MPI-ranks-are-assigned-zero-cells-in-[P4estMesh](@ref)-even-though-there-are-enough-cells">MPI ranks are assigned zero cells in <a href="reference-trixi.html#Trixi.P4estMesh"><code>P4estMesh</code></a> even though there are enough cells</a><a id="MPI-ranks-are-assigned-zero-cells-in-[P4estMesh](@ref)-even-though-there-are-enough-cells-1"></a><a class="docs-heading-anchor-permalink" href="#MPI-ranks-are-assigned-zero-cells-in-[P4estMesh](@ref)-even-though-there-are-enough-cells" title="Permalink"></a></h2><p>The <a href="reference-trixi.html#Trixi.P4estMesh"><code>P4estMesh</code></a> allows one to coarsen the mesh by default. When Trixi is parallelized with multiple MPI ranks, this has the consequence that sibling cells (i.e., child cells with the same parent cell) are kept on the same MPI rank to be able to coarsen them easily. This might cause an unbalanced distribution of cells on different ranks. For 2D meshes, this also means that <em>initially</em> each rank will at least own 4 cells, and for 3D meshes, <em>initially</em> each rank will at least own 8 cells. See <a href="https://github.com/trixi-framework/Trixi.jl/issues/1329">issue #1329</a>.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="parallelization.html">« Parallelization</a><a class="docs-footer-nextpage" href="reference-trixi.html">Trixi.jl »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 17 April 2023 08:36">Monday 17 April 2023</span>. Using Julia version 1.8.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
